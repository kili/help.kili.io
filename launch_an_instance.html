<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Launching an Instance - Kili</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Kili" />
            <meta property="og:type" content="article"/>
            <meta property="og:title" content="Launching an Instance"/>
            <meta property="og:url" content="./launch_an_instance.html"/>
            <meta property="og:description" content="One of the core parts of the Kili cloud is the ability to launch virtual machines on our cloud (and of course, for you to have those machines located in Kenya). This tutorial walks you through the basics of setting up your first instance."/>
            <meta property="article:published_time" content="2014-04-16" />
                <meta property="article:section" content="misc" />
                <meta property="article:tag" content="instances" />
                <meta property="article:tag" content="launching" />
                <meta property="article:tag" content="how to" />
                <meta property="article:author" content="James Nzomo" />

    <!-- Bootstrap -->
        <link rel="stylesheet" href="./theme/css/bootstrap.min.css" type="text/css"/>
    <link href="./theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="./theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>
    
    <!-- Custom Fonts -->
    <link href='//fonts.googleapis.com/css?family=Roboto:400,700,300,500' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href="//fonts.googleapis.com/css?family=Oxygen" rel="stylesheet" type="text/css">

        <link href="./css/kili.css" rel="stylesheet">

        <link href="./feeds/all.rss.xml" type="application/atom+xml" rel="alternate"
              title="Kili ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="./" class="navbar-brand">
Kili            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-lg-12">

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="./launch_an_instance.html"
                       rel="bookmark"
                       title="Permalink to Launching an Instance">
                        Launching an Instance
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
            <a href="./author/james-nzomo.html"><i class="fa fa-user"></i> James Nzomo</a> | 
    <span class="published">
        <time datetime="2014-04-16T14:00:00"> April 16, 2014</time>
    </span>



 | 
	<a href="./tag/instances.html">instances</a>
        /
	<a href="./tag/launching.html">launching</a>
        /
	<a href="./tag/how-to.html">how to</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <h3>INTRO</h3>
<p>This article illustrates how to spin up both persistent and ephemeral instances from the dashboard.<br>
A Persistent instance uses a block storage volume for it's root file system. This allows the operating system files (and related user data) to survive termination of the associated instance.<br>
An Ephemeral instance is the direct opposite of a Persistent instance. It's root volume will be destroyed once the instance is terminated!</p>
<p>Ephemeral instances are mostly usefull for one-off/short-lived applications whereas persistent instances will be prefferable for longterm applications.</p>
<h3>Pre-requisites:-</h3>
<ol>
<li>Active login session</li>
<li>Sufficient resource quota</li>
</ol>
<h3>Instructions</h3>
<ol>
<li>Open the launch Instance modal from either:-<ul>
<li>The <a href="https://dash.kili.io/project/instances/" target="_blank">instances panel</a> (<code>Project</code> &rarr; <code>Compute</code> &rarr; <code>Instances</code>) by clicking "launch instance" button at the top right of the panel.</li>
<li>The <a href="https://dash.kili.io/project/images/" target="_blank">images panel</a> (<code>Project</code> &rarr; <code>Compute</code> &rarr; <code>Images</code>) by clicking the "launch" button in the actions collumn of the desired image.</li>
</ul>
</li>
<li>
<p>In the "Launch Instance" modal form, provide an Instance Name and Flavor.<br></p>
<ul>
<li>
<p>To launch an <strong>ephemeral instance</strong>, select "Boot from image" as your Instance Boot Source and choose your preffered image Image. <br><strong>NB.</strong> If you opened the Launch Instance modal from the images panel, the last two optiona will already have been set<br>
    <img src="img/launch_instance.png" height="500" width="460"></p>
</li>
<li>
<p>To launch a <strong>persistent instance</strong>, select "Boot from image (creates a new volume)" as your Instance Boot Source, choose your preffered image and enter a device size for your new block volume. Do not check the <code>Delete on Terminate:</code> checkbox lest you defeat the purpose of your persistent instance.</p>
</li>
</ul>
</li>
<li>
<p>Switch to the "Access &amp; Security" tab and select the appropriate ssh key from the Key Pair dropdown. The selected key will be added to the default user's ssh <code>Authorized_Keys</code> file for key based authentication. If the drop down has no keys listed, click the <code>+</code> and follow the <a href="import_keypair" target="_blank">import keypair</a> guide.
    <img src="img/instance_access_n_security.png" height="1200" width="526"></p>
</li>
</ol>
<h3>Post Creation</h3>
<p>After launch, you probably want to assign a public IP to your instance.</p>
<p>Depending on the progress of your new VM's creation, manage your floating IP associations by clicking "Associate IP":-</p>
<ol>
<li>
<p>Clicking "Associate IP" button in the VM's actions column if the VM is still spawning. (see below)
    <img src="img/assign_ip.png"></p>
</li>
<li>
<p>Selecting the "Associate IP" option of the "more" drop down menu in the actions collumn if the VM has successfully spun up.(see below)
    <img src="img/assign_ip_spawning.png"> </p>
</li>
</ol>
<p>On the popup dialog, you can either select an existing IP (if available) from the drop down or allocate a new one from the <code>public-net</code> pool by clickingt he <code>+</code> button to the right of the drop down.
<img src="img/manage_fl_ip.png"></p>
<p>If both IP address assignment and spin up was successfull, it should now be possible to ssh into your VM using "ssh [USER]@[Public IP]" where:-</p>
<p>[Public IP] is the public ip you associated with your instance and
[USER] is the default image user provided by distro you chose.....which will be:-</p>
<ul>
<li>ubuntu (for ubuntu)</li>
<li>debian (for debian)</li>
<li>cloud-user (for CentOS)</li>
</ul>
<p>Hence if you spun up a CentOS image and you assigned an ip 1.2.3.4, you should access your instance by <code>ssh cloud-user@1.2.3.4</code>, provided you have the required security group rules in place. see below.
<br></p>
<h3>A note on Security Groups</h3>
<p>Security groups are sets of IP filter rules that are applied to an instance's networking. By default, for new accounts, the default security group denies access to port 22 from 0.0.0.0/0.</p>
<p>If you wish to ssh into your instance you should tweak the "Security Groups" to allow ingress SSH access on port 22 of the VM. This action is only done once for every new account.</p>
<ul>
<li>Go to <a href="https://dash.kili.io/project/access_and_security/?tab=access_security_tabs_security_groups_tab" target="_blank">Security Groups</a> (<code>Project</code> &rarr; <code>Compute</code> &rarr; <code>Access &amp; Security</code>).
        <img src="img/Security_Groups_AnS.png" height="1000" width="700"></li>
<li>Click on <code>Manage Rules</code> button under Actions section for the security group <code>default</code> located below the <code>Create/Delete Security Group</code> button on the right side of the dashboard.</li>
<li>Under the section <code>Manage Security Group Rules:default</code>, select button <code>Add Rule</code> on the top right corner of the dashboard.
        <img src="img/Add_SSH_Rule.png" height="700" width="556"></li>
<li>As shown in the image above, select ( <code>Rule</code> &rarr; <code>SSH</code>, <code>Remote</code> &rarr; <code>CIDR</code> , <code>CIDR</code> &rarr; <code>0.0.0.0/0</code>).</li>
</ul>
<p>At this point you should be capable of accessing your instances via ssh on port 22. If you would like to open up a different port, feel free to adapt the steps by sellecting a different protocol from the <code>Rule:</code> drop down or sellecting a custom rule on the same for a custom port.</p>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
	 <div class="col-xs-10">  
		 &copy; 2014 Kili.io, Inc &#9729; 
		 <a href="http://kili.io/#pricing">Pricing</a> &#9729;
		 <a href="https://dash.kili.io">Dashboard</a> &#9729;
		 <a href="https://github.com/kili/help.kili.io">Write an Article</a> 
	 </div>
	 </div>
      </div>
   </div>
</footer>
<script src="./theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="./theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="./theme/js/respond.min.js"></script>

</body>
</html>